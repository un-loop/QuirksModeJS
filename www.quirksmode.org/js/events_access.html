<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html lang="en">
<!-- Mirrored from www.quirksmode.org/js/events_access.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Sep 2017 17:29:50 GMT -->
<head><title>Javascript - Event accessing</title><link rel="stylesheet" href="../quirksmode.css" /><link rel="up" href="contents.html" /><link rel="intro" href="introevents.html" /><link rel="prev" href="events_advanced.html" /><link rel="next" href="events_properties.html" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><script type="text/javascript" src="../quirksmode.js"></script></head><body><h2>Event accessing</h2><div id="header"></div><div class="floater"><p>See section 7E of <a href="https://www.quirksmode.org/book/">the book</a>.</p></div><p class="intro">On this page I explain how to access an event object.</p><p id="toc"></p><p>Now that we have registered an event handling function, we want to know more aboutthe event itself.We&#8217;d like to know the mouse position at the moment the event took place, wewant to detect any key the user has pressed. All this is possible, though this area of event handlingcontains the most serious browser incompatibilities.<span class="smaller">(For a quick overview, see the<a href="events_compinfo.html">Event compatibility tables</a>.)</span></p><p>To read out properties of the event we have to access the event first.</p><h3>Browser incompatibilities</h3><p>At the height of the Browser Wars, Netscape invented an accessing model(later copied by W3C) and a lot of event properties,while Microsoft also invented an accessing model and a lot of event properties. Of course thesetwo models are completely incompatible. But, as was said on the<a href="introevents.html">Introduction</a> page, code branching like</p><pre class="wrong">if (W3C/Netscape) {	use W3C/Netscape model for access and property names}else if (Explorer) {	use Microsoft model for access and property names}</pre><p>is not the correct solution to these compatibility problems since it may leave out minor browserswho can handle most scripts, if your detection code allows them to.Therefore we have to access an event first and read out individual properties separately.</p><p>Let&#8217;s start with accessing the event. The <a href="events_properties.html">event properties</a>are discussed on a separate page.</p><h3>W3C/Netscape</h3><p>In the W3C/Netscape event accessing model the event is passed to the event handling function as anargument. So if you define an event handler</p><pre>element.onclick = doSomething;</pre><p>the function <code>doSomething()</code> receives the event itself as an argument. Traditionally itis stored in the variable <code>e</code> &#8212; though you can use any name you like:</p><pre>function doSomething(e) {	// e gives access to the event}</pre><p>This is all fully automatic, no extra code required. In anonymous functions you can do</p><script type="text/javascript">function doSomething(e) {	if (!e) var e = window.event;	alert('Event type is ' + e.type)}function doSomething2(e) {	alert('Event type is ' + e.type)}var old = (window.onload) ? window.onload : function () {};window.onload = function () {	old();	if (!document.getElementById) return;	document.getElementById('example1').onclick = doSomething;	document.getElementById('example2').onclick = doSomething;}</script><pre id="example1">element.onclick = function (e) {alert('Event type is ' + e.type)}</pre><h3>Microsoft</h3><p>In the Microsoft event accessing model there is a special property <code>window.event</code> thatcontains the last event that took place.</p><pre>element.onclick = doSomething;function doSomething() {	// window.event gives access to the event}</pre><p>or</p><pre id="example2">element.onclick = function () {alert('Event type is ' + window.event.type)}</pre><h4>Event and event</h4><p>Note that there also exists an ancient Netscape property <code>window.Event</code>.Explorer doesn&#8217;t understand it while Netscape 4 could misinterpret it.Therefore be very sure to always write <code>event</code> with a lower case&#8220;e&#8221;.</p><h3>Cross-browser event accessing</h3><p>Fortunately it is very easy to write a proper cross-browser script:</p><pre>element.onclick = doSomething;function doSomething(e) {	if (!e) var e = window.event;	// e gives access to the event in all browsers}</pre><p>If the variable <code>e</code> does not exist (if it isn&#8217;t sent to the function), make ita reference to <code>window.event</code> . Now <code>e</code> refers to the event in all browsers.</p><h3>Combination with inline event handlers</h3><p>In the<a href="events_early.html">inline registration model</a>you have to pass the <code>event</code> to the function:</p><pre  onclick="doSomething2(event)">&lt;pre onclick="doSomething(event)"&gt;function doSomething(e) {	alert(e.type);}</pre><p><code>(window.)event</code> is the correct property in the Microsoft model anyway, while the otherbrowsers also recognize it in this special case.</p><h3>Continue</h3><p>If you wish to go through all event pages in order, you should now continue with the<a href="events_properties.html">Event properties</a> page.</p><div id="footer"><a href="https://www.quirksmode.org/home.html">Home</a> <a href="https://www.quirksmode.org/sitemap.html">Sitemap</a><p class="smaller" id="validation">Valid XHTML 1.0</p></div></body>
<!-- Mirrored from www.quirksmode.org/js/events_access.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Sep 2017 17:29:50 GMT -->
</html>