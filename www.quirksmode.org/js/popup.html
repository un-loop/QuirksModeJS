<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html lang="en">
<!-- Mirrored from www.quirksmode.org/js/popup.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Sep 2017 17:29:48 GMT -->
<head><title>JavaScript - Popups</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><script language="javascript" type="text/javascript"><!--var newwindow;function popitup(url) {	var x = document.forms['popuparguments'].elements;	var properties = '';	for (var i=0;i<x.length;i++) {		if (x[i].checked)			properties += x[i].name + '=' + x[i].value +',';	}	properties = properties.substring(0,properties.length-1);	newwindow=window.open(url,'name',properties);	if (window.focus) {newwindow.focus()}	return false;}// --></script><link rel="stylesheet" href="../quirksmode.css" /><link rel="up" href="contents.html" /><link rel="intro" href="frameintro.html" /><link rel="next" href="croswin.html" /><script type="text/javascript" src="../quirksmode.js"></script></head><body><h2>Popups</h2><div id="header"></div><div class="floater"><p>See section 6B of <a href="https://www.quirksmode.org/book/">the book</a>.</p></div><p class="intro">Sometimes it's useful to add a popup to your pages. When the user clicks ona link, a new window opens and displays a page.</p><p>There are two ways to do this. You can add a TARGET="_blank" to the <code>&lt;a&gt;</code>-tag, but thissimply opens a new browser window that completely obscures the old one.</p><p>This may be what you want, but at other times a small window on top of the largebrowser window is much better. This small window is popularly known as a <em>popup</em>.</p><p id="toc">First the basic syntax of how to<a href="#create" class="page">create</a> a popup, then an<a href="#expl" class="page">explanation</a> of the script, including a table of the most common<a href="#arg" class="page">arguments</a> you can give to a popup and the problem of<a href="#focus" class="page">focusing</a>.<br />Then a <a href="#attributes" class="page">new way</a> of adding popup behaviour to a link. This site usesthe new system because it's much cleaner than the old one.<br />Finally some notes about<a href="#writing" class="page">writing</a> content directly into the popup. This gives several<a href="#prob" class="page">problems</a>, most importantly the confusion over exactly what the URLof the popup is.</p><h3 id="create">Creating a popup</h3><p>To create a popup you'll need the following script:</p><pre>&lt;script language="javascript" type="text/javascript"&gt;&lt;!--function popitup(url) {	newwindow=window.open(url,'name','height=200,width=150');	if (window.focus) {newwindow.focus()}	return false;}// --&gt;&lt;/script&gt;</pre><p>Then, you link to it by:</p><pre>&lt;a href="popupex.html" onclick="return popitup('popupex.html')"	&gt;Link to popup&lt;/a&gt;</pre><p><a href="popupex.html" onclick="return popitup('popupex.html')">Open popup</a>.</p><p class="smaller">See <a href="#attributes" class="page">below</a> for a far cleaner way of adding popupbehaviour to a link.</p><h3 id="expl">Explanation</h3><p>First, you open the new window. The page to be opened is passed on by the argument <code>url</code>. Notethat, if you want to open a page on another server, Explorer  will frequently give errors. This is a feature, nota bug, so there's little you can do about it.</p><p>You have to give a name to the window (in this case, <code>name</code>). This name can be used as the <code>target</code>of a link.</p><p>In addition, you have to load the window into a JavaScript variable. The reasons for this are complexand have mostly to do with preventing errors in various browsers, especially when you want morelinks to lead to the same popup.</p><pre>function popitup(url) {	newwindow=window.open(url,'name','height=200,width=150');</pre><h4 id="arg">Arguments</h4><p>So first we define the url to be loaded in the popup and then the useless name.</p><p>As third argument, you can assign all kinds of variables. Most common are <code>height</code> and <code>width</code>,which define the height and width of the new window.</p><pre>'height=200,width=150'</pre><p>As soon as you define <em>anything</em>, all yes | no arguments that you have notdefined are set to <code>no</code>.<br />Warning: <em>Spaces or hard returns</em> are not allowed within the quote-marks.</p><p><a href="popupex.html" onclick="return popitup('popupex.html')">Open popup</a>, and set the argumentsthrough the checkboxes below.</p><form action="#" name="popuparguments"><div style="float: left; margin-right: 50px;"><input type="checkbox" name="dependent" value="yes" />dependent<br /><input type="checkbox" name="directories" value="yes" />directories<br /><input type="checkbox" name="fullscreen" value="yes" />fullscreen<br /><input type="checkbox" name="location" value="yes" />location<br /><input type="checkbox" name="menubar" value="yes" />menubar<br /><input type="checkbox" name="resizable" value="yes" />resizable<br /><input type="checkbox" name="scrollbars" value="yes" />scrollbars<br /><input type="checkbox" name="status" value="yes" />status<br /><input type="checkbox" name="toolbar" value="yes" />toolbar<br /></div><input type="checkbox" name="top" value="200" checked="checked" />top=200<br /><input type="checkbox" name="left" value="400" checked="checked" />left=400<br /><input type="checkbox" name="width" value="200" checked="checked" />width=200<br /><input type="checkbox" name="height" value="200" checked="checked" />height=200<br /><input type="checkbox" name="screenX" value="400" />screenX=400<br /><input type="checkbox" name="screenY" value="200" />screenY=200<br /></form><p style="clear:both">Multiple IE problem: if IE5.5 is open, IE6 and 7 may <strong>crash</strong> on this test. Unfortunatelythe crash is not totally reproducible.</p><table class="compatibility wide" cellspacing="7">	<col />	<col span="3" class="IE" />	<col span="2" class="FF" />	<col span="3" class="Rest" />	<tr class="compheader">		<th>Method or property</th>		<th>IE 5.5</th>		<th>IE 6</th>		<th>IE 7</th>		<th>FF 2</th>		<th>FF 3b3</th>		<th>Safari 3.0 Win</th>		<th>Opera 9.5b</th>		<th>Konqueror 3.5.7</th>	</tr><tr>	<td class="declaration" rowspan="2">		<div class="name">dependent</div>		Makes the popup dependent on the main window	</td>	<td class="comp no" colspan="3">No</td>	<td class="comp no" colspan="2">No</td>	<td class="comp no">No</td>	<td class="comp no">No</td>	<td class="comp no">No</td></tr><tr>	<td colspan="8"><p>If a popup is dependent on the main window it doesn't show up in the list of windows.	No browser seems to support this any more. Opera doesn't show any popup in the list of windows, whether	you set <code>dependent</code> or not.</p>	</td></tr><tr>	<td class="declaration" rowspan="2">		<div class="name">fullscreen</div>		Should the popup be fullscreen?	</td>	<td class="comp yes" colspan="2">Yes</td>	<td class="comp incomplete">Incom<wbr />plete</td>	<td class="comp no" colspan="2">No</td>	<td class="comp no">No</td>	<td class="comp no">No</td>	<td class="comp yes">Yes</td></tr><tr>	<td colspan="8">IE7 shows the window bar and URL bar. That's actually a good idea, but when interpreting	the results strictly it's a slight bug.</td></tr><tr>	<td class="declaration" rowspan="2">		<div class="name">height</div>		Height of the popup in pixels	</td>	<td class="comp yes" colspan="3">Yes</td>	<td class="comp yes" colspan="2">Yes</td>	<td class="comp yes">Yes</td>	<td class="comp yes">Yes</td>	<td class="comp yes">Yes</td></tr><tr>	<td colspan="8">Without a <code>height</code> browsers give the popup the height of the spawning window.	Exception is Opera, which creates a new window-tab if either <code>width</code> or <code>height</code> is undefined.</td></tr><tr>	<td class="declaration" rowspan="2">		<div class="name">left</div>		left coordinate of the popup in pixels	</td>	<td class="comp yes" colspan="3">Yes</td>	<td class="comp yes" colspan="2">Yes</td>	<td class="comp yes">Yes</td>	<td class="comp yes">Yes</td>	<td class="comp yes">Yes</td></tr><tr>	<td colspan="8">Without a <code>left</code> the popup is placed about 20px right of the upper left corner	of the spawning window.</td></tr><tr>	<td class="declaration" rowspan="2">		<div class="name">location</div>		Should the location bar be shown?	</td>	<td class="comp yes" colspan="3">Yes</td>	<td class="comp buggy" colspan="2">Buggy</td>	<td class="comp yes">Yes</td>	<td class="comp no">No</td>	<td class="comp yes">Yes</td></tr><tr>	<td colspan="8">The location bar is where the URL of the current page is shown. Mozilla shows the location	bar, but it's not user-editable.</td></tr><tr>	<td class="declaration" rowspan="2">		<div class="name">menubar</div>		Should the menubar be shown?	</td>	<td class="comp yes" colspan="3">Yes</td>	<td class="comp yes" colspan="2">Yes</td>	<td class="comp no">No</td>	<td class="comp no">No</td>	<td class="comp yes">Yes</td></tr><tr>	<td colspan="8">The menubar contains File, Edit, etc. Of course it's impossible to hide the menubar on Mac.</td></tr>	<tr class="compheader">		<th>Method or property</th>		<th>IE 5.5</th>		<th>IE 6</th>		<th>IE 7</th>		<th>FF 2</th>		<th>FF 3b3</th>		<th>Safari 3.0 Win</th>		<th>Opera 9.5b</th>		<th>Konqueror 3.5.7</th>	</tr><tr>	<td class="declaration" rowspan="2">		<div class="name">resizable</div>		Is the popup resizable?	</td>	<td class="comp yes" colspan="3">Yes</td>	<td class="comp alternative" colspan="2">Not neces<wbr />sary</td>	<td class="comp buggy">Buggy</td>	<td class="comp alternative">Not neces<wbr />sary</td>	<td class="comp alternative">Not neces<wbr />sary</td></tr><tr>	<td colspan="8">The popup is always resizable in Mozilla, Opera and Konqueror. When making the popup	resizable in Safari, actually resizing it makes the popup jump to a width of ca. 400px, which cannot be	decreased.</td></tr><tr>	<td class="declaration" rowspan="2">		<div class="name">screenX/Y</div>		Location of the popup, in pixels	</td>	<td class="comp no" colspan="3">No</td>	<td class="comp yes" colspan="2">Yes</td>	<td class="comp yes">Yes</td>	<td class="comp no">No</td>	<td class="comp yes">Yes</td></tr><tr>	<td colspan="8">&nbsp;</td></tr><tr>	<td class="declaration" rowspan="2">		<div class="name">scrollbars</div>		Should the popup have scrollbars if it needs them?	</td>	<td class="comp yes" colspan="3">Yes</td>	<td class="comp yes" colspan="2">Yes</td>	<td class="comp alternative">Not neces<wbr />sary</td>	<td class="comp yes">Yes</td>	<td class="comp yes">Yes</td></tr><tr>	<td colspan="8">The popup automatically gets scrollbars in Safari, even if this	property is set to No.</td></tr><tr>	<td class="declaration" rowspan="2">		<div class="name">status</div>		Should the status bar be shown?	</td>	<td class="comp yes" colspan="3">Yes</td>	<td class="comp alternative" colspan="2">Not neces<wbr />sary</td>	<td class="comp yes">Yes</td>	<td class="comp no">No</td>	<td class="comp yes">Yes</td></tr><tr>	<td colspan="8">Mozilla always shows the status bar.</td></tr><tr>	<td class="declaration" rowspan="2">		<div class="name">toolbar</div>		Should the toolbar be shown?	</td>	<td class="comp yes" colspan="3">Yes</td>	<td class="comp yes" colspan="2">Yes</td>	<td class="comp yes">Yes</td>	<td class="comp no">No</td>	<td class="comp yes">Yes</td></tr><tr>	<td colspan="8">The toolbar contains the Back, Forward, etc. buttons.</td></tr><tr>	<td class="declaration" rowspan="2">		<div class="name">top</div>		top coordinate of the popup in pixels	</td>	<td class="comp yes" colspan="3">Yes</td>	<td class="comp yes" colspan="2">Yes</td>	<td class="comp yes">Yes</td>	<td class="comp yes">Yes</td>	<td class="comp yes">Yes</td></tr><tr>	<td colspan="8">Without a <code>top</code> the popup is placed about 20px below the upper left corner	of the spawning window. Exception: Konqueror places it flush with the bottom of the screen.</td></tr><tr>	<td class="declaration" rowspan="2">		<div class="name">width</div>		width of the popup in pixels	</td>	<td class="comp yes" colspan="3">Yes</td>	<td class="comp yes" colspan="2">Yes</td>	<td class="comp yes">Yes</td>	<td class="comp yes">Yes</td>	<td class="comp yes">Yes</td></tr><tr>	<td colspan="8">Without a <code>width</code> browsers give the popup the width of the spawning window.	Exception is Opera, which creates a new window-tab if either <code>width</code> or <code>height</code> is undefined.</td></tr>	<tr class="compheader">		<th>Method or property</th>		<th>IE 5.5</th>		<th>IE 6</th>		<th>IE 7</th>		<th>FF 2</th>		<th>FF 3b3</th>		<th>Safari 3.0 Win</th>		<th>Opera 9.5b</th>		<th>Konqueror 3.5.7</th>	</tr></table><h4 id="focus">Focus</h4><p>Then we place the focus on the new window so that it's on top of the main window.First check if the browser supports the <code>focus()</code> method, if so place the focus on the new window.</p><pre>	if (window.focus) {newwindow.focus()}</pre><h4>Accessibility</h4><p>Finally we <code>return false</code>. This is to prevent the browser from following the actuallink.</p><pre>	return false;}</pre><p>When calling the script, make sure you do this:</p><pre>&lt;a href="popupex.html" onclick="return popitup('popupex.html')"	&gt;Link to popup&lt;/a&gt;</pre><p>The normal link leads to the page you want to show, while the popup script is called in the<code>onclick</code> event handler. When the script is called, it returns false to prevent the browserfrom following the link.</p><p>The trick is that when JavaScript is disabled and the popup script doesn't work, the link simplyleads to the page. Thus your popups remain perfectly accessible.</p><h3 id="attributes">Custom attributes</h3><p>When I created QuirksMode.org I became heartily sick and tired of the ugliness of the HTML of popup links.Therefore I invented a new system. I declare popup links as follows:</p><pre>&lt;p&gt;See also the &lt;a href="../key.html" type="popup"	&gt;key&lt;/a&gt; to my compatibility tables.&lt;/p&gt;</pre><p>Note the custom <code>type="popup"</code> attribute. Each time you load a new page, an onload script isexecuted. One of the things it does is:</p><pre>var x = document.getElementsByTagName('a');for (var i=0;i&lt;x.length;i++) {	if (x[i].getAttribute('type') == 'popup') {		x[i].onclick = function () {			return pop(this.href)		}		x[i].title += ' (Popup)';	}}</pre><p>I go through all links on the page and check for this attribute. If the script finds it, it adds an onclickevent handler:</p><pre>		x[i].onclick = function () {			return pop(this.href)		}</pre><p>The event handler calls the function <code>pop()</code> (which is almost the same as the test function<code>popitup()</code> I use on this page). It passes <code>this.href</code> as an argument, which is the actualhref of the link the user clicked on. <code>pop()</code> returns <code>false</code> for the accessibility reasonsI described above, and the event handler returns it to the event, so that the actual link is not followed.</p><p>Simple and clean, works in all browsers. The only slight disadvantage is that no current XHTML specificationallows the use of custom attributes. Personally I don't care, but if you wish to write flawless XHTML youcannot use this technique.</p><h3 id="writing">Writing into popups</h3><div class="floater"><p>Writing the content directly into the popup does not work inExplorer 3 on Windows, Konqueror 2.2.2 and Omniweb.</p></div><script language="javascript" type="text/javascript"><!--function popitup2() {	var newwindow2=window.open('','name','height=200,width=150');	newwindow2.document.write('<html lang="en"><hEAD><TITLE>Popup</TITLE>');	newwindow2.document.write('<LINK REL="stylesheet" HREF="js.html">');	newwindow2.document.write('</hEAD><BODY><p>This is once again a popup.</p>');	newwindow2.document.write('<p><a href="javascript:alert(self.location.href)">View location</a>.</p>');	newwindow2.document.write('<p><a href="javascript:self.close()">Close</a> the popup.</p>');	newwindow2.document.write('</BODY></hTML>');	newwindow2.document.close();}// --></script><p>As you've seen above, you can load a new page into the popup. However it's also possible to write thecontent into the popup by means of JavaScript. This has the advantage that you don't need to writean entirely new page for display in the popup, but it also has disadvantages.</p><p>First of all, <a href="javascript:popitup2()">try it</a>.</p><p>This is done as follows:</p><pre>function popitup2() {	newwindow2=window.open('','name','height=200,width=150');	var tmp = newwindow2.document;	tmp.write('&lt;html&gt;&lt;head&gt;&lt;title&gt;popup&lt;/title&gt;');	tmp.write('&lt;link rel="stylesheet" href="js.css"&gt;');	tmp.write('&lt;/head&gt;&lt;body&gt;&lt;p&gt;this is once again a popup.&lt;/p&gt;');	tmp.write('&lt;p&gt;&lt;a href="javascript:alert(self.location.href)"&gt;view location&lt;/a&gt;.&lt;/p&gt;');	tmp.write('&lt;p&gt;&lt;a href="javascript:self.close()"&gt;close&lt;/a&gt; the popup.&lt;/p&gt;');	tmp.write('&lt;/body&gt;&lt;/html&gt;');	tmp.close();}</pre><p>As you see, open the window, write the HTML into <code>newwindow2.document</code> and it works. The <code>document.close()</code>at the end is something different than a <code>window.close()</code>, it kind of means that the document inside thepopup is closed for writing. I found out this statement is necessary in Netscape 2, 3 and 4 to see anything at all andin Opera 5 when you want to open the popup morethan once. Without the statement you can open it only once, the next time you click on the link nothing happens.</p><h4>Explorer 4 on Windows</h4><p>Explorer 4 on Windows is a problematical browser. First it steadfastly refused to execute the scriptabove, even when I changed every <code>document.write</code> to a <code>document.writeln</code> on the advice ofa reader. Then when I restarted my computer, Explorer 4 always executed the script correctly, whateverthe exact code. At the moment I'm not sure if it supports this way of writing to a popup or not. Itseems to work.</p><p>So I do not guarantee Explorer 4 compatibility, but the script will probably work.</p><h4 id="prob">The URL of the popup</h4><div class="floater"><p>Opera 3 and Hotjava 3 give '<code>blank</code>' as the URL of the popup,while Opera 5 on Mac thinks it is <code>~i</code>.</p><p>Opera 5.11- on Windows and Linux crash on the <code>View Location</code> link.</p></div><p>There's one catch however: what exactly is the URL of the page in the popup? As you might have expected, differentbrowsers have different opinions. I put a link 'View location' in the popup that displays the <code>location.href</code>of the page. Usually the location is this page, <em>popup.html</em>, that's because the browser sees the popup asa kind of extended part of this page.</p><p>I noticed this problem because a colleague of mine wanted to use this sort of script for making a printerfriendly version of a page. Write the content into a popup, with minimal markup, and then let the userpress 'Print'. Unfortunately most browsers printed out the main page because they executed the <code>print()</code> commandfor the location.href (the main page), which was not at all what he had in mind.</p><p>Interestingly, the <code>self.close()</code> command always correctly closes the popup, not the main page.</p><div id="footer"><a href="https://www.quirksmode.org/home.html">Home</a> <a href="https://www.quirksmode.org/sitemap.html">Sitemap</a><p class="smaller" id="validation">Invalid XHTML 1.0 because the table uses &lt;wbr /&gt;</p></div></body>
<!-- Mirrored from www.quirksmode.org/js/popup.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Sep 2017 17:29:49 GMT -->
</html>